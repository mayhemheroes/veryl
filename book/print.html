<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Veryl Hardware Description Language</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="01_introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="02_getting_started.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="02_getting_started/01_installation.html"><strong aria-hidden="true">2.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="02_getting_started/02_hello_world.html"><strong aria-hidden="true">2.2.</strong> Hello, World!</a></li></ol></li><li class="chapter-item expanded "><a href="03_code_examples.html"><strong aria-hidden="true">3.</strong> Code Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="03_code_examples/01_module.html"><strong aria-hidden="true">3.1.</strong> Module</a></li><li class="chapter-item expanded "><a href="03_code_examples/02_instantiation.html"><strong aria-hidden="true">3.2.</strong> Instantiation</a></li><li class="chapter-item expanded "><a href="03_code_examples/03_interface.html"><strong aria-hidden="true">3.3.</strong> Interface</a></li><li class="chapter-item expanded "><a href="03_code_examples/04_package.html"><strong aria-hidden="true">3.4.</strong> Package</a></li></ol></li><li class="chapter-item expanded "><a href="04_reference.html"><strong aria-hidden="true">4.</strong> Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="04_reference/01_source_code_structure.html"><strong aria-hidden="true">4.1.</strong> Source Code Structure</a></li><li class="chapter-item expanded "><a href="04_reference/02_lexical_structure.html"><strong aria-hidden="true">4.2.</strong> Lexical Structure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="04_reference/02_lexical_structure/01_operator.html"><strong aria-hidden="true">4.2.1.</strong> Operator</a></li><li class="chapter-item expanded "><a href="04_reference/02_lexical_structure/02_number.html"><strong aria-hidden="true">4.2.2.</strong> Number</a></li></ol></li><li class="chapter-item expanded "><a href="04_reference/03_data_type.html"><strong aria-hidden="true">4.3.</strong> Data Type</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="04_reference/03_data_type/01_builtin_type.html"><strong aria-hidden="true">4.3.1.</strong> Builtin Type</a></li><li class="chapter-item expanded "><a href="04_reference/03_data_type/02_user_defined_type.html"><strong aria-hidden="true">4.3.2.</strong> User Defined Type</a></li><li class="chapter-item expanded "><a href="04_reference/03_data_type/03_array.html"><strong aria-hidden="true">4.3.3.</strong> Array</a></li></ol></li><li class="chapter-item expanded "><a href="04_reference/04_expression.html"><strong aria-hidden="true">4.4.</strong> Expression</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="04_reference/04_expression/01_operator.html"><strong aria-hidden="true">4.4.1.</strong> Operator</a></li><li class="chapter-item expanded "><a href="04_reference/04_expression/02_function_call.html"><strong aria-hidden="true">4.4.2.</strong> Function Call</a></li><li class="chapter-item expanded "><a href="04_reference/04_expression/03_concatenation.html"><strong aria-hidden="true">4.4.3.</strong> Concatenation</a></li><li class="chapter-item expanded "><a href="04_reference/04_expression/04_if.html"><strong aria-hidden="true">4.4.4.</strong> If</a></li><li class="chapter-item expanded "><a href="04_reference/04_expression/05_case.html"><strong aria-hidden="true">4.4.5.</strong> Case</a></li></ol></li><li class="chapter-item expanded "><a href="04_reference/05_declaration.html"><strong aria-hidden="true">4.5.</strong> Declaration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="04_reference/05_declaration/01_variable.html"><strong aria-hidden="true">4.5.1.</strong> Variable</a></li><li class="chapter-item expanded "><a href="04_reference/05_declaration/02_parameter.html"><strong aria-hidden="true">4.5.2.</strong> Parameter</a></li><li class="chapter-item expanded "><a href="04_reference/05_declaration/03_register.html"><strong aria-hidden="true">4.5.3.</strong> Register</a></li><li class="chapter-item expanded "><a href="04_reference/05_declaration/04_combinational.html"><strong aria-hidden="true">4.5.4.</strong> Combinational</a></li><li class="chapter-item expanded "><a href="04_reference/05_declaration/05_assign.html"><strong aria-hidden="true">4.5.5.</strong> Assign</a></li><li class="chapter-item expanded "><a href="03_reference/05_declaration/06_function.html"><strong aria-hidden="true">4.5.6.</strong> Function</a></li></ol></li><li class="chapter-item expanded "><a href="04_reference/06_module.html"><strong aria-hidden="true">4.6.</strong> Module</a></li><li class="chapter-item expanded "><a href="04_reference/07_interface.html"><strong aria-hidden="true">4.7.</strong> Interface</a></li><li class="chapter-item expanded "><a href="04_reference/08_package.html"><strong aria-hidden="true">4.8.</strong> Package</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Veryl Hardware Description Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-veryl-hardware-description-language"><a class="header" href="#the-veryl-hardware-description-language">The Veryl Hardware Description Language</a></h1>
<p>Veryl is a modern hardware description language.</p>
<h2 id="concepts"><a class="header" href="#concepts">Concepts</a></h2>
<p>Veryl is designed as a &quot;SystemVerilog Alternative&quot;.
There are some design concepts.</p>
<h3 id="symplified-syntax"><a class="header" href="#symplified-syntax">Symplified Syntax</a></h3>
<p>Veryl has symplified syntax based on SystemVerilog / Rust.
&quot;Symplified&quot; has two meanings. One is for parser, and another is for human.</p>
<p>SystemVerilog has very complicated syntax (see IEEE Std 1800-2017 Annex A).
This causes difficulty of SystemVerilog tool implementation.
So Veryl should have simple syntax to parse.
For example, &quot;off-side rule&quot; like Python, &quot;automatic semicolon insertion&quot; like ECMAScript / Go will not be supported.</p>
<p>SystemVerilog has various syntax. Some syntaxes are inherited from Verilog, and some syntaxes are added from SystemVerilog.
Additionally some syntaxes can be written, but cannot be used actually because major EDA tools don't support them.
So user should learn many syntaxes and whether each syntax can be used or not.
Veryl will not support old Verilog style, unrecommended description, and so on.</p>
<h3 id="transpiler-to-systemverilog"><a class="header" href="#transpiler-to-systemverilog">Transpiler to SystemVerilog</a></h3>
<p>HDL alternative languages should be transpiler to the tradisional HDLs like Verilog / VHDL because major EDA tools support them.
Veryl is a transpiler to SystemVerilog.</p>
<p>Transpiler to Verilog has wide EDA tool support including OSS EDA tools.
But even if there are rich data strucuture like <code>struct</code> / <code>interface</code> in HDL alternatives, transpiled Verilog can't have it.
If HDL alternatives have rich code generateion mechanism, transpiled Verilog will be expanded to the very long code.
For these reason, debugging the transpiled code becomes difficult.</p>
<p>Veryl will has almost all the same semantics as SystemVerilog.
So transpiled code will be human readable SystemVerilog.</p>
<p>Additionally Veryl have interoperability with SystemVerilog.
Veryl can use SystemVerilog's module / interface / struct / enum in the code, and vice versa.</p>
<h3 id="integrated-tools"><a class="header" href="#integrated-tools">Integrated Tools</a></h3>
<p>Modern programming languages have development support tools like linter, formatter, and language server by default.
Veryl will have them too from the beginning of development.</p>
<p>The following tools are planed to support.</p>
<ul>
<li>Semantic checker</li>
<li>Source code formatter</li>
<li>Language server</li>
<li>Package manager</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>Let's start to use Veryl. In this section, we will install Veryl, create an example project, and build it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>You can install Veryl by downloading binary.
If you have Rust development environment, you can use <code>cargo</code> instead of it.</p>
<h2 id="download-binary"><a class="header" href="#download-binary">Download binary</a></h2>
<p>Download from <a href="https://github.com/dalance/veryl/releases/latest">release page</a>, and extract to the directory in PATH.</p>
<h2 id="cargo"><a class="header" href="#cargo">Cargo</a></h2>
<p>You can install with <a href="https://crates.io/crates/veryl">cargo</a>.</p>
<pre><code>cargo install veryl veryl-ls
</code></pre>
<h2 id="editor-integration"><a class="header" href="#editor-integration">Editor integration</a></h2>
<p><a href="https://azure.microsoft.com/ja-jp/products/visual-studio-code">VSCode</a> and <a href="https://github.com/vim/vim">vim</a>/<a href="https://neovim.io">neovim</a> are supported officially.</p>
<ul>
<li><a href="https://github.com/dalance/veryl.vim">vim/neovim plugin</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=dalance.vscode-veryl">VSCode plugin</a></li>
</ul>
<p>Veryl provides language server. So other editors supporting language server (ex. Emacs) can use it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hello-world"><a class="header" href="#hello-world">Hello, World!</a></h1>
<h2 id="create-project"><a class="header" href="#create-project">Create Project</a></h2>
<p>At first, a new Veryl project can be created by:</p>
<pre><code>veryl new hello
</code></pre>
<p>After the command, the following directory and file will be created.</p>
<pre><code>$ veryl new hello
[INFO ]      Created &quot;hello&quot; project
$ cd hello
$ tree
.
`-- Veryl.toml

0 directories, 1 file
</code></pre>
<p><code>Veryl.toml</code> is the project configuration.</p>
<pre><code class="language-toml">[project]
name = &quot;hello&quot;
version = &quot;0.1.0&quot;
</code></pre>
<p>The description of all configuration is <a href="02_getting_started/">here</a>.</p>
<h2 id="write-code"><a class="header" href="#write-code">Write Code</a></h2>
<p>You can add source codes at an arbitrary position in the project directory.
The extension of Veryl's source codes is <code>.vl</code>.</p>
<p>For example, put the following code to <code>src/hello.vl</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
}
</code></pre>
<pre><code>$ tree
.
|-- src
|   `-- hello.vl
`-- Veryl.toml

1 directory, 2 files
</code></pre>
<h2 id="build-code"><a class="header" href="#build-code">Build Code</a></h2>
<p>You can generate a SystemVerilog code by <code>veryl build</code>.</p>
<pre><code>$ veryl build
[INFO ]   Processing file ([path to hello]/src/hello.vl)
[INFO ]       Output filelist ([path to hello]/hello.f)
$ tree
.
|-- dependencies
|-- hello.f
|-- src
|   |-- hello.sv
|   `-- hello.vl
`-- Veryl.toml

2 directories, 4 files
</code></pre>
<p>By default, SystemVerilog code will be generated at the same directory as Veryl code.
The generated code is <code>src/hello.sv</code>.</p>
<pre><code class="language-verilog">module hello_ModuleA;

endmodule
</code></pre>
<p>Additionally, <code>hello.f</code> which is the filelist of generated codes will be generated.
You can use it for SystemVerilog compiler.
The following example is to use <a href="https://www.veripool.org/verilator/">Verilator</a>.</p>
<pre><code>$ verilator --cc -f hello.f
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="code-examples"><a class="header" href="#code-examples">Code Examples</a></h1>
<p>Veryl has the almost same semantics as SystemVerilog.
If you are used to SystemVerilog, you will guess Veryl semantics with a small example source code.</p>
<p>This is a small example.
In the following example,  comments show the difference with SystemVerilog syntax.</p>
<pre class="playground"><code class="language-veryl">module ModuleA (
    // name is first, and type is followed after `:`
    // bit width is represented by `&lt;&gt;`
    i_data: input  logic&lt;10&gt;,
    o_data: output logic&lt;10&gt;,

    // use `{}` instead of `begin`/`end`
) {
    assign o_data = i_data;
}
</code></pre>
<p>Some examples in the book have play button &quot;▶&quot; which will be appeared when mouse cursor is hovered at the code.
If you click the button, the transpiled SystemVerilog code will appear.</p>
<p>A source code of Veryl has some <code>module</code>, <code>interface</code> and <code>package</code> like SystemVerilog.
In this chapter, we'll show the some example source codes of them.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="module"><a class="header" href="#module">Module</a></h1>
<pre class="playground"><code class="language-veryl">// module definition
module ModuleA #(
    parameter  ParamA: u32 = 10,
    localparam ParamB: u32 = 10, // trailing comma is allowed
) (
    i_clk : input  logic,
    i_rst : input  logic,
    i_sel : input  logic,
    i_data: input  logic&lt;ParamA&gt; [2], // `[]` means unpacked array in SystemVerilog
    o_data: output logic&lt;ParamA&gt;    , // `&lt;&gt;` means packed array in SystemVerilog
) {
    // localparam declaration
    //   `parameter` is not allowed in module
    localparam ParamC: u32 = 10;

    // variable declaration
    var r_data0: logic&lt;ParamA&gt;;
    var r_data1: logic&lt;ParamA&gt;;

    // always_ff statement with reset
    //   `always_ff` can take a mandatory clock and a optional reset
    //   `if_reset` means `if (i_rst)`. This conceals reset porality
    //   `()` of `if` is not required
    //   `=` in `always_ff` is non-blocking assignment
    always_ff (i_clk, i_rst) {
        if_reset {
            r_data0 = 0;
        } else if i_sel {
            r_data0 = i_data[0];
        } else {
            r_data0 = i_data[1];
        }
    }

    // always_ff statement without reset
    always_ff (i_clk) {
        r_data1 = r_data0;
    }

    assign o_data = r_data1;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="instantiation"><a class="header" href="#instantiation">Instantiation</a></h1>
<pre class="playground"><code class="language-veryl">module ModuleA #(
    parameter  ParamA: u32 = 10,
) (
    i_clk : input  logic,
    i_rst : input  logic,
    i_data: input  logic&lt;ParamA&gt;,
    o_data: output logic&lt;ParamA&gt;,
) {
    var r_data1: logic&lt;ParamA&gt;;
    var r_data2: logic&lt;ParamA&gt;;

    assign r_data1 = i_data + 1;
    assign o_data  = r_data2 + 2;

    // instance declaration
    //   `inst` keyword starts instance declaration
    //   port connnection can be specified by `()`
    //   each port connection is `[port_name]:[variable]`
    //   `[port_name]` means `[port_name]:[port_name]`
    inst u_module_b: ModuleB (
        i_clk,
        i_rst,
        i_data: r_data1,
        o_data: r_data2,
    );

    // instance declaration with parameter override
    //   notation of parameter connection is the same as port
    inst u_module_c: ModuleC #(
        ParamA,
        ParamB: 10,
    ) (
        i_clk,
        i_rst,
        i_data: r_data1,
        o_data: r_data2,
    );
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interface"><a class="header" href="#interface">Interface</a></h1>
<pre class="playground"><code class="language-veryl">// interface definition
interface InterfaceA #(
    parameter ParamA: u32 = 1,
    parameter ParamB: u32 = 1,
) {
    localparam ParamC: u32 = 1;

    var a: logic&lt;ParamA&gt;;
    var b: logic&lt;ParamA&gt;;
    var c: logic&lt;ParamA&gt;;

    // modport definition
    modport master {
        a: input ,
        b: input ,
        c: output,
    }

    modport slave {
        a: input ,
        b: input ,
        c: output,
    }
}

module ModuleA (
    i_clk     : input logic               ,
    i_rst     : input logic               ,
    intf_a_mst: modport InterfaceA::master,
    intf_a_slv: modport InterfaceA::slave ,
) {
    // interface instantiation
    inst u_intf_a: InterfaceA [10];
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="package"><a class="header" href="#package">Package</a></h1>
<pre class="playground"><code class="language-veryl">// package definition
package PackageA {
    localparam ParamA: u32 = 1;
    localparam ParamB: u32 = 1;

    function FuncA (
        a: input  logic&lt;ParamA&gt;,
    ) -&gt; logic&lt;ParamA&gt; {
        return a + 1;
    }
}

module ModuleA {
    var a : logic&lt;10&gt; = PackageA::ParamA;
    var _b: logic&lt;10&gt; = PackageA::FuncA(a);
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reference"><a class="header" href="#reference">Reference</a></h1>
<p>In this chapter, we'll discuss the lauguage definition of Veryl.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="source-code-structure"><a class="header" href="#source-code-structure">Source code structure</a></h1>
<p>Veryl's source code is composed by some <code>module</code>, <code>interface</code> and <code>package</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
}

module ModuleB {
}

interface InterfaceA {
}

package PackageA {
}
</code></pre>
<p>The name of <code>module</code>, <code>interface</code> and <code>package</code> in the transpiled code will added project name as prefix.
In the sample code, <code>project_</code> will be added.
It is to avoid name conflict between projects.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lexical-structure"><a class="header" href="#lexical-structure">Lexical Structure</a></h1>
<p>This chapter shows the lexical structure of Veryl.
At the first, we'll discuss about the general parts in it.</p>
<h2 id="encoding"><a class="header" href="#encoding">Encoding</a></h2>
<p>The encoding of Veryl source code should be UTF-8.</p>
<h2 id="white-space"><a class="header" href="#white-space">White Space</a></h2>
<p><code> </code>, <code>\t</code> and <code>\n</code> are treated as white space.
All of them are skipped by Veryl's parser.</p>
<h2 id="comment"><a class="header" href="#comment">Comment</a></h2>
<p>Single line comment and multi line comment can be used.
Almost all comment will be outputted at the transpiled code.</p>
<pre class="playground"><code class="language-veryl">// single line comment

/*
multi

line

comment
*/
</code></pre>
<h2 id="identifier"><a class="header" href="#identifier">Identifier</a></h2>
<p>Identifier is composed with ASCII alphabet and number and <code>_</code>.
Leading number is not allowed.
The following regular expression shows the definition.</p>
<pre><code>[a-zA-Z_][a-zA-Z0-9_]*
</code></pre>
<h2 id="string"><a class="header" href="#string">String</a></h2>
<p>String is surrounded by <code>&quot;</code>.
Escape by <code>\</code> can be used like <code>\&quot;</code>, <code>\n</code> and so on.</p>
<pre><code>&quot;Hello, World!&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operator"><a class="header" href="#operator">Operator</a></h1>
<p>Almost all operators are the same as SystemVerilog.
Please be careful the some differences.</p>
<ul>
<li><code>&lt;:</code> less than operator which is the same as <code>&lt;</code> in SystemVerilog.</li>
<li><code>&gt;:</code> greater than operator which is the same as <code>&gt;</code> in SystemVerilog.</li>
</ul>
<pre><code class="language-veryl">// unary arithmetic
a = +1;
a = -1;

// unary logical
a = !1;
a = ~1;

// unary reduce
a = &amp;1;
a = |1;
a = ^1;
a = ~&amp;1;
a = ~|1;
a = ~^1;
a = ^~1;

// binary arithmetic
a = 1 ** 1;
a = 1 * 1;
a = 1 / 1;
a = 1 % 1;
a = 1 + 1;
a = 1 - 1;

// binary shift
a = 1 &lt;&lt; 1;
a = 1 &gt;&gt; 1;
a = 1 &lt;&lt;&lt; 1;
a = 1 &gt;&gt;&gt; 1;

// binary compare
a = 1 &lt;: 1;
a = 1 &lt;= 1;
a = 1 &gt;: 1;
a = 1 &gt;= 1;
a = 1 == 1;
a = 1 != 1;
a = 1 === 1;
a = 1 !== 1;
a = 1 ==? 1;
a = 1 !=? 1;

// binary bitwise
a = 1 &amp; 1;
a = 1 ^ 1;
a = 1 ~^ 1;
a = 1 ^~ 1;
a = 1 | 1;

// binary logical
a = 1 &amp;&amp; 1;
a = 1 || 1;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="number"><a class="header" href="#number">Number</a></h1>
<h2 id="integer"><a class="header" href="#integer">Integer</a></h2>
<pre><code class="language-veryl">// integer
0123456789
01_23_45_67_89

// binary
32'b01xzXZ
32'b01_xz_XZ

// octal
32'o01234567xzXZ
32'o01_23_45_67_xz_XZ

// decimal
32'd0123456789
32'd01_23_45_67_89

// hex
128'h0123456789abcdefxzABCDEFXZ
128'h01_23_45_67_89_ab_cd_ef_xz_AB_CD_EF_XZ
</code></pre>
<pre><code class="language-veryl">// all 0
'0

// all 1
'1

// all x
'x
'X

// all z
'z
'Z
</code></pre>
<h2 id="floating-point"><a class="header" href="#floating-point">Floating point</a></h2>
<pre><code class="language-veryl">// floating point
0123456789.0123456789
01_23_45_67_89.01_23_45_67_89

// floating with exponent
0123456789.0123456789e+0123456789
01_23_45_67_89.01_23_45_67_89E-01_23_45_67_89
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-type"><a class="header" href="#data-type">Data Type</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="builtin-type"><a class="header" href="#builtin-type">Builtin Type</a></h1>
<h2 id="4-state-data-type-which-has-variable-width"><a class="header" href="#4-state-data-type-which-has-variable-width">4-state data type which has variable width</a></h2>
<p><code>logic</code> is 4-state (<code>0</code>, <code>1</code>, <code>x</code>, <code>z</code>) data type.
The variable width can be specified by <code>&lt;&gt;</code> after <code>logic</code>.
Multi-dimentional can be specified by <code>&lt;X, Y, Z,,,&gt;</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: logic;
    var _b: logic&lt;10&gt;;
    var _c: logic&lt;10, 10&gt;;
}
</code></pre>
<h2 id="2-state-data-type-which-has-variable-width"><a class="header" href="#2-state-data-type-which-has-variable-width">2-state data type which has variable width</a></h2>
<p><code>bit</code> is 2-state (<code>0</code>, <code>1</code>) data type.
The variable width can be specified by <code>&lt;&gt;</code> after <code>bit</code>.
Multi-dimentional can be specified by <code>&lt;X, Y, Z,,,&gt;</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: bit;
    var _b: bit&lt;10&gt;;
    var _c: bit&lt;10, 10&gt;;
}
</code></pre>
<h2 id="integer-type"><a class="header" href="#integer-type">Integer type</a></h2>
<p>There are some integer types:</p>
<ul>
<li><code>u32</code>: 32bit unsigned integer</li>
<li><code>u64</code>: 64bit unsigned integer</li>
<li><code>i32</code>: 32bit signed integer</li>
<li><code>i64</code>: 64bit signed integer</li>
</ul>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: u32;
    var _b: u64;
    var _c: i32;
    var _d: i64;
}
</code></pre>
<h2 id="floating-point-type"><a class="header" href="#floating-point-type">Floating point type</a></h2>
<p>There are some floating point types:</p>
<ul>
<li><code>f32</code>: 32bit floating point</li>
<li><code>f64</code>: 64bit floating point</li>
</ul>
<p>Both of them are represented as described by IEEE Std 754.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: u32;
    var _b: u64;
    var _c: i32;
    var _d: i64;
}
</code></pre>
<h2 id="string-type"><a class="header" href="#string-type">String type</a></h2>
<p><code>string</code> is string type.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var _a: string;
}
</code></pre>
<h2 id="type-type"><a class="header" href="#type-type">Type type</a></h2>
<p><code>type</code> is a type which represents type kind.
Variable of <code>type</code> can be defined as <code>parameter</code> or <code>localparam</code> only.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    localparam a: type = logic;
    localparam b: type = logic&lt;10&gt;;
    localparam c: type = u32;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-defined-type"><a class="header" href="#user-defined-type">User Defined Type</a></h1>
<h2 id="struct"><a class="header" href="#struct">Struct</a></h2>
<p><code>struct</code> is composit data type.
It can contain some fields, and these fields can be access through <code>.</code> operator.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    struct StructA {
        member_a: logic    ,
        member_b: logic&lt;10&gt;,
        member_c: u32      ,
    }

    var a: StructA;

    assign a.member_a = 0;
    assign a.member_b = 1;
    assign a.member_c = 2;
}
</code></pre>
<h2 id="enum"><a class="header" href="#enum">Enum</a></h2>
<p><code>enum</code> is enumerable type.
It has some named variant, and the value of <code>enum</code> can be set to the one of them.
The variant name can be specified by <code>[enum name]::[variant name]</code>.
Each variant has the corresponding integral value.
The value can be specified by <code>=</code>.
Otherwise, it is assigned automatically.</p>
<pre class="playground"><code class="language-veryl">module A {
    enum EnumA: logic&lt;2&gt; {
        member_a,
        member_b,
        member_c = 3,
    }

    var a: EnumA;

    assign a = EnumA::member_a;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="array"><a class="header" href="#array">Array</a></h1>
<p>Array can be defined by appending <code>[]</code> to any data type.
The length of array can be specified by the value in <code>[]</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var a: logic     [20];
    var b: logic&lt;10&gt; [20];
    var c: u32       [20];
    var d: StructA   [20];
    var e: EnumA     [20];

    assign a[0] = 0;
    assign b[0] = 0;
    assign c[0] = 0;
    assign d[0] = 0;
    assign e[0] = 0;
}
</code></pre>
<p>Multi-dimentional array can be defined by <code>[X, Y, Z,,,]</code>.</p>
<pre class="playground"><code class="language-veryl">module ModuleA {
    var a: logic     [10, 20, 30];
    var b: logic&lt;10&gt; [10, 20, 30];
    var c: u32       [10, 20, 30];
    var d: StructA   [10, 20, 30];
    var e: EnumA     [10, 20, 30];

    assign a[0][0][0] = 0;
    assign b[0][0][0] = 0;
    assign c[0][0][0] = 0;
    assign d[0][0][0] = 0;
    assign e[0][0][0] = 0;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="expression"><a class="header" href="#expression">Expression</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operator-1"><a class="header" href="#operator-1">Operator</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="function-call"><a class="header" href="#function-call">Function Call</a></h1>
<pre><code class="language-veryl">a = FunctionA (1, 1);
a = $clog2 (10);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="concatenation"><a class="header" href="#concatenation">Concatenation</a></h1>
<pre><code class="language-veryl">a = {b[10:0], c[4:3]};
a = {b[10:0] repeat 10, c repeat 4};
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="if"><a class="header" href="#if">If</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="case"><a class="header" href="#case">Case</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="declaration"><a class="header" href="#declaration">Declaration</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="variable"><a class="header" href="#variable">Variable</a></h1>
<pre><code class="language-veryl">var var_a: logic        ;
var var_b: logic&lt;10&gt;    ;
var var_c: logic&lt;10, 10&gt;;
var var_d: u32          ;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="parameter"><a class="header" href="#parameter">Parameter</a></h1>
<pre><code class="language-veryl">localparam param_a: u32 = 1;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="register"><a class="header" href="#register">Register</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="combinational"><a class="header" href="#combinational">Combinational</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="assign"><a class="header" href="#assign">Assign</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="function"><a class="header" href="#function">Function</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="module-1"><a class="header" href="#module-1">Module</a></h1>
<pre class="playground"><code class="language-veryl">module mux2to1 (
    a  : input  logic,
    b  : input  logic,
    sel: input  logic,
    y  : output logic,
) {
    always_comb {
        if sel {
            y = a;
        } else {
            y = b;
        }
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interface-1"><a class="header" href="#interface-1">Interface</a></h1>
<pre class="playground"><code class="language-veryl">interface simple_bus {
    var req  : logic;
    var gnt  : logic;
    var addr : logic [8];
    var data : logic [8];
    var mode : logic [2];
    var start: logic;
    var rdy  : logic;

    modport master {
        req  : output,
        addr : output,
        mode : output,
        start: output,
        gnt  : input ,
        rdy  : input ,
        data : ref   ,
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="package-1"><a class="header" href="#package-1">Package</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>
        <script type="module">
            import init, {build, format} from "https://dalance.github.io/veryl/playground/pkg/veryl_wasm.js";
            init().then(() => {});
            window.build = build;
        </script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
